---
layout:     post
title:      ÂáèÂ∞ë‰ª£Á†Å‰∏≠ÁöÑforÂæ™ÁéØ
subtitle:   (‰ºòÂåñ‰ª£Á†Å)
date:       2018-12-09
author:     YC
header-img: img/tag-bg.jpg
catalog: true
tags:
    - js‰ª£Á†Å‰ºòÂåñ
---

# Âú®js‰ª£Á†Å‰∏≠Ê∂àÈô§forÂæ™ÁéØ‰ª•ÂèäÈôç‰Ωéif else ‰ª£Á†ÅÂ§çÊùÇÂ∫¶

‰∏™‰∫∫ËÆ§‰∏∫forÂæ™ÁéØ‰∏çÂ§üËØ≠‰πâÂåñÔºåÂçïÂçï‰∏Ä‰∏™Âæ™ÁéØÊó†Ê≥ïÁúãÊáÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÔºåËÄå‰∏Ä‰∫õjsËá™Â∏¶ÁöÑapiËÉΩÂ∏ÆÂä©Êõ¥Â•ΩÁöÑÁêÜËß£Ôºå‰æãÂ¶ÇÊï∞ÁªÑÁöÑ`every`Ôºå`some`,ÂØπ‰∫é‰∏Ä‰∏™Êï∞ÁªÑÔºå‰ΩøÁî®`every`Â∞±ËÉΩÂ§üÊª°Ë∂≥Êï∞ÁªÑÈáåÂÖÉÁ¥†Â¶ÇÊûúÈÉΩÊª°Ë∂≥Âà§Êñ≠ÂáΩÊï∞Â∞±ËøîÂõû`true`ÔºåÂ¶ÇÊûúÂ≠òÂú®‰∏çÊª°Ë∂≥Â∞±ËøîÂõû`false`ÔºåËøôÊØîËá™Â∑±ÂÜô`for`Âæ™ÁéØÁöÑÂèØËØªÊÄßÂ§ßÂ§ßÊèêÈ´òÔºåÂΩìÁÑ∂Ôºå`for`Âæ™ÁéØÁöÑËá™Áî±Â∫¶È´òÔºåËÉΩÂÜô‰ªª‰ΩïÈÅçÂéÜÁöÑÊñπÊ≥ïÔºåËÄåËøô‰∫õapiÊé•Âè£ÂàôÂØπÂ∫îÁâπÂÆöÁöÑÈúÄÊ±Ç„ÄÇ

## Áî®filter, map, Âíå ÂÖ∂‰ªñes6È´òÈò∂ÈÅçÂéÜÂáΩÊï∞
* **üå∞1Ôºö**Â∞ÜÊï∞ÁªÑ‰∏≠ÁöÑfalseÂÄºÂéªÈô§

```
const arr = [3, 4, 5, 2, undefined, null, 0, ""]
// ‰ΩøÁî®ËøáÊª§ÂáΩÊï∞ÔºåËøáÊª§Âá∫Êï∞ÁªÑÂÖÉÁ¥†Êª°Ë∂≥ÂõûË∞ÉÁöÑÂáΩÊï∞ÁöÑÂÄº
const compact = arr => arr.filter(Boolean)
```

> [Array.prototype.filter() mdsnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

* **üå∞2Ôºö** Â∞ÜÊï∞ÁªÑ‰∏≠ÁöÑVIPÁî®Êà∑‰ΩôÈ¢ùÂä† 10

```
const users = [
  { username: "Kelly", isVIP: true, balance: 20 },
  { username: "Tom", isVIP: false, balance: 19 },
  { username: "Stephanie", isVIP: true, balance: 30 }
]

users.map(
  user => (user.isVIP ? {...user, balance: user.balance + 10} : user)
)
```

> [Array.prototype.map() mdsnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map)

* **üå∞3Ôºö** Âà§Êñ≠Â≠óÁ¨¶‰∏≤‰∏≠ÊòØÂê¶Âê´ÊúâÂÖÉÈü≥Â≠óÊØçÔºàÂà§Êñ≠ÊòØÂê¶Â≠òÂú®‰∏Ä‰∏™Ôºâ

```
const someString = "asdfghjkl"

//ÂÜôÊ≥ï‰∏Ä
const has = [...someString].some(char => {
  return ["a", "e", "o", "i", "u"].includes(char)
})

//ÂÜôÊ≥ï‰∫å
const isVowel = char => ["a", "e", "o", "i", "u"].includes(char)

const hasVowel = str => [...str].some(isVowel)

hasVowel(someString)
```

> [Array.prototype.some() mdsnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some)

* **üå∞4:** Âà§Êñ≠Áî®Êà∑ÊòØÂê¶ÂÖ®ÈÉ®ÊòØÊú™ÊàêÂπ¥ÔºàÂà§Êñ≠ÂÖÉÁ¥†ÊòØÂê¶ÂÖ®ÈÉ®ÊàêÁ´ãÔºâ

```
const users = [
  { name: "Jim", age: 23 },
  { name: "Lily", age: 17 },
  { name: "Will", age: 25 }
]
// ‰æøÂà© users Â¶ÇÊûúuser.ageÈÉΩÂ§ß‰∫é18 ÂàôËøîÂõûtrue 
users.every(user => user.age >= 18)
```

> [Array.prototype.every() msdnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every)

* **üå∞5** ÊâæÂá∫Áî®Êà∑Á¨¨‰∏Ä‰∏™Êú™ÊàêÂπ¥ÁöÑ‰∫∫ÔºàÊü•ÊâæÂá∫Êï∞ÁªÑ‰∏≠Á¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑ‰∫∫Ôºâ

```
const users = [
  { name: "Jim", age: 23 },
  { name: "Lily", age: 17 },
  { name: "Will", age: 25 }
]

const findTeen = (users) => {
    return users.find(user => user.age < 18)
} 
// ËøîÂõûÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥†
findTeen(users)
// { name: "Lily", age: 17 }
```

> [Array.prototype.find() msdnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find)

* **üå∞6** Êï∞ÁªÑ‰∏≠ÂéªÈáç

```
const dupArr = [1, 2, 3, 3, 3, 3, 6, 7]
// Âà©Áî®ÈõÜÂêàÊ≤°ÊúâÈáçÂ§çÂÖÉÁ¥†ÁöÑÁâπÊÄßÂØπÊï∞ÁªÑÂéªÈáç
const uniq = arr => [...new Set(arr)]
uniq(dupArr)
```

* **üå∞7Ôºö** ÈöèÊú∫Êï¥Êï∞Êï∞ÁªÑ 

```
const getNumArr = (length, limit) => {
    return Array.from({length}, _ => Math.floor(Math.random() * limit))
}
getNumArr(10, 100)
```

> [Array.from() msdnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from)

* **üå∞8Ôºö** Â∞ÜÂ§öÂ±ÇÊï∞ÁªÑËΩ¨Êç¢‰∏∫‰∏ÄÂ±ÇÊï∞ÁªÑÔºàÂ∞ÜÊï∞ÁªÑÂâ•Á¶ªÔºâ

```
const nestedArr = [1, 2, [3, 4, [5, 6]]]
const flatten = arr =>
  arr.reduce(
    (flat, next) => flat.concat(Array.isArray(next) ? flatten(next) : next),
    []
  )
  //Âà©Áî®reduceÁöÑÁ¥ØÂä†Âô® Â∞ÜÊï∞ÁªÑÁ¥ØÂä†ËÆ°ÁÆó
flatten(nestedArr)
```

> [Array.prototype.reduce() msdnÊñáÊ°£](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

* **üå∞9Ôºö** Â∞Ü‰∏ãÈù¢Êï∞ÁªÑËΩ¨ÊàêÂØπË±°Ôºåkey/value ÂØπÂ∫îÈáåÂ±ÇÊï∞ÁªÑÁöÑ‰∏§‰∏™ÂÄº

```
const objLikeArr = [["name", "Jim"], ["age", 18], ["single", true]]

const fromPairs = pairs =>
  pairs.reduce(
  (res, pair) => ((res[pair[0]] = pair[1]),
   res), {})
fromPairs(objLikeArr)

```

## ÂØπ‰∫éÁÆÄÂçïÁöÑ`if... if...` Á±ªÂûãÔºåÂèØ‰ª•Â∞ÜÂçïÂùóÁöÑifËØ≠Âè•ËøõË°åÊãÜÂàÜ‰∏∫‰∏Ä‰∏™ÂáΩÊï∞

üå∞Ôºö

```
if (...) {
    if () {...}
    if () {...}
}
if (...) {
    if () {...}
    if () {...}
}
if (...) {
    if () {...}
    if () {...}
}
//ÂèØ‰ª•ÊãÜÂàÜ‰∏∫3ÂùóÂáΩÊï∞
function A () {
    if (...) {
        if () {...}
        if () {...}
    }
}
function B () {
    if (...) {
        if () {...}
        if () {...}
    }
}
```

- ËøôÊ†∑ÁöÑÊãÜÂàÜËÉΩ‰Ωø‰ª£Á†ÅÂèØËØªÊÄßÊõ¥È´òÔºåÂ∞ÜÂàÜË£ÖÁöÑÂáΩÊï∞ÂêçÂëΩÂêçËØ≠ÊÑèÂåñÁöÑÂêçÂ≠óÔºåÁª¥Êä§ÁöÑÊó∂ÂÄôÂè™Ë¶ÅÁúãÂà∞ÂáΩÊï∞ÂêçÔºåÂ∞±ÊòéÁôΩËøôÊÆµifËØ≠Âè•ÊòØ‰ªÄ‰πà‰ΩúÁî®

## ÂØπ‰∫é`else if`ËØ≠Âè•ÁöÑ‰ª£Á†ÅÔºåÂú®Âá†‰∏™ÊâßË°åÂáΩÊï∞‰∏≠ÈÄâÊã©‰∏Ä‰∏™ËøõË°åÊâßË°åÁöÑÂáΩÊï∞

![Image text](/post_img/2018-12-09-ÂáèÂ∞ë‰ª£Á†Å‰∏≠ÁöÑforÂæ™ÁéØ/1.png)

- Ëá™Â∑±ÂÆö‰∏Ä‰∏™Êü•ÊâæË°®ÔºåÊ†πÊçÆÂ§ÑÁêÜÂáΩÊï∞Âà§Êñ≠Êù°‰ª∂Êù•ËøõË°å‰∏çÂêåÁöÑÊìç‰Ωú

```
const rules = {
  x: (a, b, c) => {...},
  y: (a, b, c) => {...},
  z: (a, b, c) => {...}
}

function test (a, b, c) {
    const action  = determineAction(a, b, c)
    return rules[action](a, b, c)
}
function determineAction (a, b, c) {
    if (...) {
        return 'x'
    } else if (...) {
        return 'y'
    } else if () {
        return 'z'
    }
}

//Á¨¨‰∫åÁßçÊñπÂºè
const rules = [
  {
    match: function (a, b, c) { ... },
    action: function (a, b, c) { ... }
  },
  {
    match: function (a, b, c) { ... },
    action: function (a, b, c) { ... }
  },
  {
    match: function (a, b, c) { ... },
    action: function (a, b, c) { ... }
  }
]
function test (a, b, c) {
  for (let i = 0; i < rules.length; i++) {
    if (rules[i].match(a, b, c)) {
      return rules[i].action(a, b, c)
    }
  }
}
```

## ÂçïÊù°ifËØ≠Âè•

- ‰∏öÂä°‰∏≠‰ºöÁî®Âà∞ÂæàÂ§öifËØ≠Âè•ÔºåÂ∞±ÊâßË°å‰∏ÄË°åÂáΩÊï∞ÁöÑÂ§ÑÁêÜ‰æãÂ¶Ç:

```
var sum = 0
if (typeof a === 'Number') {
    sum += a
}
```

- ÂØπ‰∫éËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºåÂèØ‰ª•ÈÄöËøá&&ËøõË°åÂ§ÑÁêÜ

```
(typeof a === 'Number') && (sum +=a)
``` 

## ÊÄªÁªì

- Ëøô‰∫õ‰ª£Á†ÅÂÜôÊ≥ïÂÖ∂ÂÆûÂú®ÂäüËÉΩ‰∏äÔºåÂíåÂéüÊù•ÁöÑÊ≤°ÊúâÂå∫Âà´ÔºåÂè™ÊòØÂú®‰ª£Á†ÅÁöÑÂèØËØªÊÄß‰∏äËÉΩÊõ¥Â•ΩÔºåÊõ¥Âä†Êñπ‰æøÊàë‰ª¨‰∏™‰∫∫Áª¥Êä§„ÄÇ
